"use strict";(function(t,e,n,o){return e=[],n=t.Deferred().resolve(),o=function(e,o,i,a,c){a=t.Deferred(),c=function(){a.resolve()},n.done(function(){switch(typeof o){case"function":i=o,o=!0;break;case"string":o="*"==o||o==e.p;break;case"object":o=-1!=t.inArray(e.p,o);break;default:o=!1}return o?void i.call(e,t,c):c()}),n=a},{d:document,l:location,h:history,p:function(e){return t.each(t("html").attr("class").split(/\s+/),function(t,n){e||(n=n.split("-"),"page"==n[0]&&n[1]&&(e=n[1]))}),e||"unknown"}(),on:function(t,n,i){return i=this,e.push([t,n]),o(i,t,n),i},once:function(t,e,n){return n=this,o(n,t,e),n},e:function(e,n,o,i,a,c,r){t("body").append('<div class="error"><div class="_"></div><dl><dt><span class="ico ico-sad"></span></dt><dd>'+e+'</dd><dd>请<a href="#" onclick="location.reload();return 0">刷新页面</a>以尝试解决这个问题。</dd></dl></div>'),n="floor",o="height",i=t(".error"),$_page=i.children("dl"),c=i._width(),r=Math.min(480,c-40),a.css({width:r,left:Math[n]((c-r)/2)}),a.css("top",Math[n]((i[o]()-a[o]()-40)/2)),i.css({top:0,left:0})},o:function(){return!1},t:!1,w:-1,r:function(n,i,a){i=this,t("h2").text()!=n[1]&&(i.d.title=n[0]+" "+n[1]+" | CCNR v2",t(".badge").addClass("hidden"),t("article").html("<h2>"+n[1]+"</h2>"+t.map(n[2],function(t){return"<p>"+t+"</p>"}).join("")),i.w=-1,t.each(e,function(t,e){o(i,e[0],e[1])}))}}})(jQuery).once(function(t,e,n,o,i,a,c,r,s,d,l,h,f,u){n="scrolled",o="disabled",i="span",a="ico-top",c="ico-notop",r="hasClass",s="addClass",d="removeClass",l="children",h=t("body"),f=h.parent(),u=t("aside a:first").click(function(){return f[r](n)&&h.animate({scrollTop:0},250),!1}),t(window).scroll(function(){0<h.scrollTop()?(f[s](n),u[d](o)[l](i)[s](a)[d](c)):(f[d](n),u[s](o)[l](i)[s](c)[d](a))}),e()}).once("chapter",function(t,e,n){n=this,t.get(t("article").data("toc")).done(function(o,i,a,c){i=n.d,a="title",n.t=c=t(o),i[a]=c.find("Title").text()+" "+i[a],e()}).fail(function(){n.e("章节列表数据读取失败。")})}).on("chapter",function(t,e,n,o,i,a,c,r,s,d,l,h,f,u,p,g,w,v,m,C,b,y){n=this,o="aside a:eq(",i="href",a="title",c="disabled",r="#",s="《",d="》",l="（无）",h="attr",f="addClass",u="removeClass",p="click",g="off",w="eq",v="text",m=n.l.pathname.split("/").pop()-0,C=n.t.find("Chapter"),b=t(o+"1)"),1<m?b[h](i,m-1)[h](a,s+C[w](m-2)[v]()+d)[u](c)[g](p,n.o):b[h](i,r)[h](a,l)[f](c)[p](n.o),b=t(o+"3)"),m<C.length?(b[h](i,m+1)[h](a,s+C[w](m)[v]()+d)[u](c)[g](p,n.o),y=b.children(".badge")[v](C.length-m),n.d.referer||n.h.state||y[u]("hidden")):b[h](i,r)[h](a,l)[f](c)[p](n.o),e()}).once(function(t,e,n,o){n=this,o="aside",t(o).removeClass("hidden"),t("body").keydown(function(e,i,a){i="which",a=t.inArray(e[i],[27,37,13,39]),0>a||a==n.w||(a&&(n.w=a),t(o+" a:eq("+a+")")[0].click())}),e()}).once("chapter",function(t,e,n,o,i,a,c,r){return n=this,o=n.h,i="state",a="text",c="replace",r=[t("h2")[a](),[]],i in o?(t(window).on("popstate",function(t){n.r(o[i])}),r.unshift(n.d.title.split(r[0])[0][c](/\s*$/,"")),t("p").each(function(e,n){r[2].push(t(n)[a]())}),o.replaceState(r,"",n.l.href[c](/^.*\//,"")),void e()):e()}).on("chapter",function(t,e,n,o,i,a,c,r,s,d,l,h){return n=this,o=n.h,i="state",a="prefetched",c="addClass",r=t("aside a:last"),s=r.attr("href"),o[i]&&"#"!=s?(d=t("html"),l=[o[i][0],"",[]],r.one("click",function(){return!d.hasClass(a)||(d.removeClass(a),o.pushState(l,"",s),window.scrollTo(0,0),n.r(l),t(".badge")[c]("hidden"),!1)}),t.get(s).done(function(e,n,o,i){n="find",o="text",i=t(e),l[1]=i[n]("Title")[o](),i[n]("Paragraph").each(function(e,n){l[2].push(t(n)[o]())}),d[c](a)}),void e()):e()}).once(function(t,e,n,o){n=t("head"),o=function(e){t('<style rel="stylesheet">'+e+"</text>").appendTo(n)},t.each(["//fonts.gmirror.org/css?family=Space+Mono:400"],function(e,n){return localStorage[n]?o(localStorage[n]):void t.get(n).done(function(t){localStorage[n]=t,o(t)})}),e()});
//# sourceMappingURL=ccnr2.min.js.map