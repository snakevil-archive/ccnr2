"use strict";(function(t,e,n,o){return e=[],n=t.Deferred().resolve(),o=function(e,o,i,c,s){c=t.Deferred(),s=function(){c.resolve()},n.done(function(){switch(typeof o){case"function":i=o,o=!0;break;case"string":o="*"==o||o==e.p;break;case"object":o=-1!=t.inArray(e.p,o);break;default:o=!1}return o?void i.call(e,t,s):s()}),n=c},{d:document,l:location,h:history,p:function(e){return t.each(t("html").attr("class").split(/\s+/),function(t,n){e||(n=n.split("-"),"page"==n[0]&&n[1]&&(e=n[1]))}),e||"unknown"}(),on:function(t,n,i){return i=this,e.push([t,n]),o(i,t,n),i},once:function(t,e,n){return n=this,o(n,t,e),n},e:function(e,n,o,i,c,s,a,r){t("body").append('<div class="error"><div class="_"></div><dl><dt><span class="ico ico-sad"></span></dt><dd>'+e+'</dd><dd>请<a href="#" onclick="location.reload();return 0">刷新页面</a>以尝试解决这个问题。</dd></dl></div>'),n="floor",o="height",i="css",c=t(".error"),$_page=c.children("dl"),a=c.width(),r=Math.min(480,a-40),s[i]({width:r,left:Math[n]((a-r)/2)}),s[i]("top",Math[n]((c[o]()-s[o]()-40)/2)),c[i]({top:0,left:0})},o:function(){return!1},t:!1,w:-1,s:!1,r:function(n,i,c){i=this,t("h2").text()!=n[1]&&(i.d.title=n[0]+" "+n[1]+" | CCNR v2",t("html").removeClass("prefetched"),t(".badge").addClass("hidden"),t("article").html("<h2>"+n[1]+"</h2>"+t.map(n[2],function(t){return"<p>"+t+"</p>"}).join("")),i.w=-1,i.s=!1,t.each(e,function(t,e){o(i,e[0],e[1])}))}}})(jQuery).once("toc",function(t,e){t("legend a").click(function(){return t(this).closest("fieldset").addClass("expanded"),!1})}).once(function(t,e,n,o,i,c,s,a,r,d,l,h,f,u){n="scrolled",o="disabled",i="span",c="ico-top",s="ico-notop",a="hasClass",r="addClass",d="removeClass",l="children",h=t("body"),f=h.parent(),u=t("aside a:first").click(function(){return f[a](n)&&h.animate({scrollTop:0},250),!1}),t(window).scroll(function(){0<h.scrollTop()?(f[r](n),u[d](o)[l](i)[r](c)[d](s)):(f[d](n),u[r](o)[l](i)[r](s)[d](c))}),e()}).once(function(t,e,n,o){n=t("head"),o=function(e){t('<style rel="stylesheet">'+e+"</text>").appendTo(n)},t.each(["//cdn.bootcss.com/github-fork-ribbon-css/0.2.0/gh-fork-ribbon.min.css","//fonts.gmirror.org/css?family=Space+Mono:400"],function(e,n,i){return i=localStorage,i[n]?o(i[n]):void t.get(n).done(function(t){i[n]=t,o(t)})}),e()}).once("chapter",function(t,e,n){n=this,t.get(t("article").data("toc")).done(function(o,i,c,s){i=n.d,c="title",n.t=s=t(o),i[c]=s.find("Title").text()+" "+i[c],e()}).fail(function(){n.e("章节列表数据读取失败。")})}).on("chapter",function(t,e,n,o,i,c,s,a,r,d,l,h,f,u,p,g,b,m,w,v,C,k){n=this,o="aside a:eq(",i="href",c="title",s="disabled",a="#",r="《",d="》",l="（无）",h="attr",f="addClass",u="removeClass",p="click",g="off",b="eq",m="text",w=n.l.pathname.split("/").pop()-0,v=n.t.find("Chapter"),C=t(o+"1)"),1<w?C[h](i,w-1)[h](c,r+v[b](w-2)[m]()+d)[u](s)[g](p,n.o):C[h](i,a)[h](c,l)[f](s)[p](n.o),C=t(o+"3)"),w<v.length?(C[h](i,w+1)[h](c,r+v[b](w)[m]()+d)[u](s)[g](p,n.o),k=C.children(".badge")[m](v.length-w),n.d.referer||n.h.state||k[u]("hidden")):C[h](i,a)[h](c,l)[f](s)[p](n.o),e()}).once(function(t,e,n,o){n=this,o="aside",t(o).removeClass("hidden"),t("body").keydown(function(e,i,c){i="which",c=t.inArray(e[i],[27,37,13,39]),0>c||c==n.w||(c&&(n.w=c),t(o+" a:eq("+c+")")[0].click())}),e()}).once("chapter",function(t,e,n,o,i,c,s,a){return n=this,o=n.h,i="state",c="text",s="replace",a=[t("h2")[c](),[]],i in o?(t(window).on("popstate",function(t){n.r(o[i])}),a.unshift(n.d.title.split(a[0])[0][s](/\s*$/,"")),t("p").each(function(e,n){a[2].push(t(n)[c]())}),o.replaceState(a,"",n.l.href[s](/^.*\//,"")),void e()):e()}).on("chapter",function(t,e,n,o,i,c){return n=this,o=n.h,i="state",c=t("aside a:last").attr("href"),o[i]&&"#"!=c?(n.s=[o[i][0],"",[]],t.get(c).done(function(e,o,i,c){o="find",i="text",c=t(e),n.s[1]=c[o]("Title")[i](),c[o]("Paragraph").each(function(e,o){n.s[2].push(t(o)[i]())}),t("html").addClass("prefetched")}),void e()):e()}).once("chapter",function(t,e,n,o){n=this,o=t("aside a:last"),o.click(function(e){return!t("html").hasClass("prefetched")||(e=n.s,n.s=!1,n.h.pushState(e,"",o.attr("href")),window.scrollTo(0,0),n.r(e),t(".badge").addClass("hidden"),!1)}),e()});
//# sourceMappingURL=ccnr2.min.js.map