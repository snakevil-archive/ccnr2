"use strict";(function(t,e,n,i){return e=[],n=t.Deferred().resolve(),i=function(e,i,o,a,c){a=t.Deferred(),c=function(){a.resolve()},n.done(function(){switch(typeof i){case"function":o=i,i=!0;break;case"string":i="*"==i||i==e.p;break;case"object":i=-1!=t.inArray(e.p,i);break;default:i=!1}return i?void o.call(e,t,c):c()}),n=a},{d:document,l:location,h:history,p:function(e){return t.each(t("html").attr("class").split(/\s+/),function(t,n){e||(n=n.split("-"),"page"==n[0]&&n[1]&&(e=n[1]))}),e||"unknown"}(),on:function(t,n,o){return o=this,e.push([t,n]),i(o,t,n),o},once:function(t,e,n){return n=this,i(n,t,e),n},e:function(e,n,i,o,a,c,r){t("body").append('<div class="error"><div class="_"></div><dl><dt><span class="ico ico-sad"></span></dt><dd>'+e+'</dd><dd>请<a href="#" onclick="location.reload();return 0">刷新页面</a>以尝试解决这个问题。</dd></dl></div>'),n="floor",i="height",o=t(".error"),$_page=o.children("dl"),c=o._width(),r=Math.min(480,c-40),a.css({width:r,left:Math[n]((c-r)/2)}),a.css("top",Math[n]((o[i]()-a[i]()-40)/2)),o.css({top:0,left:0})},o:function(){return!1},t:!1,w:-1,r:function(n,o,a){o=this,t("h2").text()!=n[1]&&(o.d.title=n[0]+" "+n[1]+" | CCNR v2",t(".badge").addClass("hidden"),t("article").html("<h2>"+n[1]+"</h2>"+t.map(n[2],function(t){return"<p>"+t+"</p>"}).join("")),o.w=-1,t.each(e,function(t,e){i(o,e[0],e[1])}))}}})(jQuery).once(function(t,e,n,i,o,a,c,r,s,d,l,h,u,f){n="scrolled",i="disabled",o="span",a="ico-top",c="ico-notop",r="hasClass",s="addClass",d="removeClass",l="children",h=t("body"),u=h.parent(),f=t("aside a:first").click(function(){return u[r](n)&&h.animate({scrollTop:0},250),!1}),t(window).scroll(function(){0<h.scrollTop()?(u[s](n),f[d](i)[l](o)[s](a)[d](c)):(u[d](n),f[s](i)[l](o)[s](c)[d](a))}),e()}).once("chapter",function(t,e,n){n=this,t.get(t("article").data("toc")).done(function(i,o,a,c){o=n.d,a="title",n.t=c=t(i),o[a]=c.find("Title").text()+" "+o[a],e()}).fail(function(){n.e("章节列表数据读取失败。")})}).on("chapter",function(t,e,n,i,o,a,c,r,s,d,l,h,u,f,p,w,v,C,b,g,m,k){n=this,i="aside a:eq(",o="href",a="title",c="disabled",r="#",s="《",d="》",l="（无）",h="attr",u="addClass",f="removeClass",p="click",w="off",v="eq",C="text",b=n.l.pathname.split("/").pop()-0,g=n.t.find("Chapter"),m=t(i+"1)"),1<b?m[h](o,b-1)[h](a,s+g[v](b-2)[C]()+d)[f](c)[w](p,n.o):m[h](o,r)[h](a,l)[u](c)[p](n.o),m=t(i+"3)"),b<g.length?(m[h](o,b+1)[h](a,s+g[v](b)[C]()+d)[f](c)[w](p,n.o),k=m.children(".badge")[C](g.length-b),n.d.referer||n.h.state||k[f]("hidden")):m[h](o,r)[h](a,l)[u](c)[p](n.o),e()}).once(function(t,e,n,i){n=this,i="aside",t(i).removeClass("hidden"),t("body").keydown(function(e,o,a){o="which",a=t.inArray(e[o],[27,37,13,39]),0>a||a==n.w||(a&&(n.w=a),t(i+" a:eq("+a+")")[0].click())}),e()}).once("chapter",function(t,e,n,i,o,a,c,r){return n=this,i=n.h,o="state",a="text",c="replace",r=[t("h2")[a](),[]],o in i?(t(window).on("popstate",function(t){n.r(i[o])}),r.unshift(n.d.title.split(r[0])[0][c](/\s*$/,"")),t("p").each(function(e,n){r[2].push(t(n)[a]())}),i.replaceState(r,"",n.l.href[c](/^.*\//,"")),void e()):e()}).on("chapter",function(t,e,n,i,o,a,c,r,s,d,l,h){return n=this,i=n.h,o="state",a="prefetched",c="addClass",r=t("aside a:last"),s=r.attr("href"),i[o]&&"#"!=s?(d=t("html"),l=[i[o][0],"",[]],r.one("click",function(){return!d.hasClass(a)||(d.removeClass(a),i.pushState(l,"",s),window.scrollTo(0,0),n.r(l),t(".badge")[c]("hidden"),!1)}),t.get(s).done(function(e,n,i,o){n="find",i="text",o=t(e),l[1]=o[n]("Title")[i](),o[n]("Paragraph").each(function(e,n){l[2].push(t(n)[i]())}),d[c](a)}),void e()):e()});
//# sourceMappingURL=ccnr2.min.js.map