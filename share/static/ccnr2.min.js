"use strict";(function(t,e,n,o){return e=[],n=t.Deferred().resolve(),o=function(e,o,i,a,c){a=t.Deferred(),c=function(){a.resolve()},n.done(function(){switch(typeof o){case"function":i=o,o=!0;break;case"string":o="*"==o||o==e.p;break;case"object":o=-1!=t.inArray(e.p,o);break;default:o=!1}return o?void i.call(e,t,c):c()}),n=a},{d:document,l:location,h:history,p:function(e){return t.each(t("html").attr("class").split(/\s+/),function(t,n){e||(n=n.split("-"),"page"==n[0]&&n[1]&&(e=n[1]))}),e||"unknown"}(),on:function(t,n,i){return i=this,e.push([t,n]),o(i,t,n),i},once:function(t,e,n){return n=this,o(n,t,e),n},e:function(e,n,o,i,a,c,s,r){t("body").append('<div class="error"><div class="_"></div><dl><dt><span class="ico ico-sad"></span></dt><dd>'+e+'</dd><dd>请<a href="#" onclick="location.reload();return 0">刷新页面</a>以尝试解决这个问题。</dd></dl></div>'),n="floor",o="height",i="css",a=t(".error"),$_page=a.children("dl"),s=a.width(),r=Math.min(480,s-40),c[i]({width:r,left:Math[n]((s-r)/2)}),c[i]("top",Math[n]((a[o]()-c[o]()-40)/2)),a[i]({top:0,left:0})},o:function(){return!1},t:!1,w:-1,s:!1,r:function(n,i,a){i=this,t("h2").text()!=n[1]&&(i.d.title=n[0]+" "+n[1]+" | CCNR v2",t("html").removeClass("prefetched"),t(".badge").addClass("hidden"),t("article").html("<h2>"+n[1]+"</h2>"+t.map(n[2],function(t){return"<p>"+t+"</p>"}).join("")),i.w=-1,i.s=!1,t.each(e,function(t,e){o(i,e[0],e[1])}))}}})(jQuery).once(function(t,e,n,o,i,a,c,s,r,d,l,h,f,u){n="scrolled",o="disabled",i="span",a="ico-top",c="ico-notop",s="hasClass",r="addClass",d="removeClass",l="children",h=t("body"),f=h.parent(),u=t("aside a:first").click(function(){return f[s](n)&&h.animate({scrollTop:0},250),!1}),t(window).scroll(function(){0<h.scrollTop()?(f[r](n),u[d](o)[l](i)[r](a)[d](c)):(f[d](n),u[r](o)[l](i)[r](c)[d](a))}),e()}).once(function(t,e,n,o){n=t("head"),o=function(e){t('<style rel="stylesheet">'+e+"</text>").appendTo(n)},t.each(["//cdn.bootcss.com/github-fork-ribbon-css/0.2.0/gh-fork-ribbon.min.css","//fonts.gmirror.org/css?family=Space+Mono:400"],function(e,n,i){return i=localStorage,i[n]?o(i[n]):void t.get(n).done(function(t){i[n]=t,o(t)})}),e()}).once("chapter",function(t,e,n){n=this,t.get(t("article").data("toc")).done(function(o,i,a,c){i=n.d,a="title",n.t=c=t(o),i[a]=c.find("Title").text()+" "+i[a],e()}).fail(function(){n.e("章节列表数据读取失败。")})}).on("chapter",function(t,e,n,o,i,a,c,s,r,d,l,h,f,u,p,b,g,m,w,v,C,k){n=this,o="aside a:eq(",i="href",a="title",c="disabled",s="#",r="《",d="》",l="（无）",h="attr",f="addClass",u="removeClass",p="click",b="off",g="eq",m="text",w=n.l.pathname.split("/").pop()-0,v=n.t.find("Chapter"),C=t(o+"1)"),1<w?C[h](i,w-1)[h](a,r+v[g](w-2)[m]()+d)[u](c)[b](p,n.o):C[h](i,s)[h](a,l)[f](c)[p](n.o),C=t(o+"3)"),w<v.length?(C[h](i,w+1)[h](a,r+v[g](w)[m]()+d)[u](c)[b](p,n.o),k=C.children(".badge")[m](v.length-w),n.d.referer||n.h.state||k[u]("hidden")):C[h](i,s)[h](a,l)[f](c)[p](n.o),e()}).once(function(t,e,n,o){n=this,o="aside",t(o).removeClass("hidden"),t("body").keydown(function(e,i,a){i="which",a=t.inArray(e[i],[27,37,13,39]),0>a||a==n.w||(a&&(n.w=a),t(o+" a:eq("+a+")")[0].click())}),e()}).once("chapter",function(t,e,n,o,i,a,c,s){return n=this,o=n.h,i="state",a="text",c="replace",s=[t("h2")[a](),[]],i in o?(t(window).on("popstate",function(t){n.r(o[i])}),s.unshift(n.d.title.split(s[0])[0][c](/\s*$/,"")),t("p").each(function(e,n){s[2].push(t(n)[a]())}),o.replaceState(s,"",n.l.href[c](/^.*\//,"")),void e()):e()}).on("chapter",function(t,e,n,o,i,a){return n=this,o=n.h,i="state",a=t("aside a:last").attr("href"),o[i]&&"#"!=a?(n.s=[o[i][0],"",[]],t.get(a).done(function(e,o,i,a){o="find",i="text",a=t(e),n.s[1]=a[o]("Title")[i](),a[o]("Paragraph").each(function(e,o){n.s[2].push(t(o)[i]())}),t("html").addClass("prefetched")}),void e()):e()}).once("chapter",function(t,e,n,o){n=this,o=t("aside a:last"),o.click(function(e){return!t("html").hasClass("prefetched")||(e=n.s,n.s=!1,n.h.pushState(e,"",o.attr("href")),window.scrollTo(0,0),n.r(e),t(".badge").addClass("hidden"),!1)}),e()});
//# sourceMappingURL=ccnr2.min.js.map