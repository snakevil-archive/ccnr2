"use strict";(function(a,b){return b={},a.each(a("html").attr("class").split(/\s+/),function(a,c){b.feature||(c=c.split("-"),"page"==c[0]&&c[1]&&(b.feature=c[1]))}),b.counter=0,b.on=function(c,d){switch(b.counter++,typeof c){case"function":d=c,c=!0;break;case"string":c="*"==c||c==b.feature;break;case"object":c=-1!=a.inArray(b.feature,c);break;default:c=!1}return c&&d(a,b.feature),b},b})(jQuery).on("chapter",function(a,b){b=a("footer nav a:last"),!document.referrer&&b.attr("href")&&a.getJSON(location.href+"/cd",{},function(a){a.quantity&&b.children(".badge").text(a.quantity).removeClass("hidden")})}).on("chapter",function(a,b){a(document).keydown(function(c,d){d=a.inArray(c.which,[37,13,39]),-1!=d&&c.which!=b&&(b=c.which,a("footer nav a:eq("+d+")")[0].click())})});